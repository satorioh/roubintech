function getDatahref(t){t.preventDefault(),console.log($(this)),$(this).attr("target")?window.open($(this).attr("data-href")):$showFrame.attr("src",$(this).attr("data-href"))}function noRepeatObj(){for(var t=[],e={};t.length<4;){var o=Math.floor(Math.random()*imgArr.length);-1==t.indexOf(imgArr[o])&&t.push(imgArr[o])}for(var a=0,i=t.length;a<i;a++){var n=$boxLeft.find("[data-img="+t[a]+"]"),r=n.attr("target")?n.attr("data-href")+"#"+t[a]+"#target":n.attr("data-href")+"#"+t[a];e[n.text().replace(/\s+/g,"")]=r}return e}function carouselImgReady(){var t=noRepeatObj(),e=0;for(var o in t)if(t.hasOwnProperty(o)){var a=t[o].split("#");$carouselImg[e].href=a[0],$($carouselImg[e]).attr("data-href",a[0]),$($carouselImg[e]).find("img").attr("src","img/"+a[1]+".png"),$($carouselImg[e]).find("span").text(o),a[2]&&$($carouselImg[e]).attr("target","_blank"),console.log($carouselImg[e]),e++}}var $box=$("#_popBox"),$boxLeft=$("#_popBox-left"),$showFrame=$("#_showFrame"),$iframeMask=$("#_iframeMask"),$carouselImg=$(".carousel-inner a"),imgArr=[],itemTitle={$itemTitle:$(".itemTitle"),glyphiconToggle:function(){var t=$(this).children("span:nth-of-type(2)");t.hasClass("glyphicon-menu-up")?(t.removeClass("glyphicon-menu-up").addClass("glyphicon-menu-down"),$(this).children("span.glyphicon-menu-down").parent().css("color","#fff")):(t.removeClass("glyphicon-menu-down").addClass("glyphicon-menu-up"),$(this).children("span.glyphicon-menu-up").parent().css("color","springgreen"))},init:function(){var t=$(this).children("span:nth-of-type(2)");t.hasClass("glyphicon-menu-up")&&(t.removeClass("glyphicon-menu-up").addClass("glyphicon-menu-down"),$(this).children("span.glyphicon-menu-down").parent().css("color","#fff"))}},popBox={boxHeight:getComputedStyle($box[0]).height,boxWidth:getComputedStyle($box[0]).width,init:function(){$box.css("marginBottom","-"+this.boxHeight)},down:function(){$box.animate({marginBottom:"-"+this.boxHeight,opacity:"0"},300,"swing"),itemTitle.$itemTitle.next().removeClass("in"),itemTitle.init.call(itemTitle.$itemTitle)},up:function(){$box.animate({marginBottom:"35px",opacity:"1"},300,"swing"),$iframeMask.css("display","block")}};popBox.init(),$("#_startButton").click(function(t){parseInt($box.css("marginBottom"))<0?popBox.up():popBox.down()}),$iframeMask.on("click",function(t){$(this).css("display","none"),popBox.down()}),itemTitle.$itemTitle.on("click",itemTitle.glyphiconToggle),$boxLeft.find("a.list-group-item[target]").append($('<span class="glyphicon glyphicon-share-alt pull-right"></span>')),$boxLeft.on("click","a:not(.itemTitle)",getDatahref);var $dataImg=$boxLeft.find("a[data-img]");$dataImg.each(function(){imgArr.push($(this).attr("data-img"))}),carouselImgReady(),$carouselImg.on("click",getDatahref),$(".common_site > a").on("click",getDatahref),function(t){t(window).on("load",function(){t("#_popBox-left").mCustomScrollbar({theme:"light-3",scrollInertia:300,mouseWheelPixels:120,autoHideScrollbar:!0})})}(jQuery);